# 游戏提案

1. 游戏名为 WarTimes ,简称为 `WT`

# 编码建议

1. `HRESULT` 类型的返回值用名为 `hr` 的变量接收, 使用以下宏处理错误

* 判断成功用 `SUCCESSED`

* 判断失败用 `FAILED`

* 用 `HR` 处理无法处理的错误

2. 字符集 `使用Unicode字符集`

3. Windows SDK版本用 10.0.17134.0

4. 使用驼峰式命名, 宏使用下划线分隔的全大写命名

5. 类属性加上 `m` 前缀

6. 头文件中全局区域不使用 `using`

7. 头文件用 `.h` 后缀，并且给`.h`文件加上宏保护（#ifndef...#define...#endif），源文件用 `.cpp` 后缀, 直接要被编译的着色器源文件用 `.hlsl` 后缀, 其文件名与其入口点名称相同, 包含顶点数据和常量缓冲区的用 `.hlsli` 后缀

8. 项目中的函数都应返回 `WTRESULT` 类型的值用于表示函数运行情况, `WTRESULT` 实际为 `int`, 在 `wterr.h` 中定义, 用名为 `wtr` 的变量接收 `WTRESULT` 错误. 基本错误值如下:

* `0` 表示没有任何错误

* `-1` 表示未知错误

所有错误枚举值放在 `wterr.h` 中, 错误对应的字符串放在 `wterr.cpp` 中, 使用 `WTStrErr` 用于从枚举值获取错误提示字符串

10. 函数要输出的运行结果通过形参返回, 尽量不使用引用, 用以下宏暗示参数的输入输出类型:

* `_In_`: 输入

* `_In_opt_`: 可选输入(即可为 `nullptr`)

* `_Out_`: 输出(传入要保存数据的地址)

* `_Out_opt_`: 可选输出(为 `nullptr` 时, 函数应不在这个参数上浪费时间)

* `_Inout_`: 输入输出

* `_Inout_opt_`: 可选输入输出

11. 不使用异常

12. 使用统一的 `wtlog.h` `wtlog.cpp` 控制所有的 log

13. 用二段式构造, 第二段构造函数名使用 `Init` ,返回 `WTRESULT` 值表示构造情况

14. 函数应写注释, 写在头文件, 使得在 VS 提示函数原型时能显示出注释

15. 会阻塞的函数需明确注释

# 其他

[In、Out相关的宏定义](https://tieba.baidu.com/p/4870283065?red_tag=1927622448)